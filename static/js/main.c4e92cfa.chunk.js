(this["webpackJsonpmy-bookshelf"]=this["webpackJsonpmy-bookshelf"]||[]).push([[0],{75:function(e,t,a){e.exports=a(88)},80:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),l=(a(80),a(26)),i=a(17),s=a(37),m=a(38),u=a(46),p=a(48),d="https://reactnd-books-api.udacity.com",h=localStorage.token;h||(h=localStorage.token=Math.random().toString(36).substr(-8));var k={Accept:"application/json",Authorization:h},f=function(){return fetch("".concat(d,"/books"),{headers:k}).then((function(e){return e.json()})).then((function(e){return e.books}))},b=function(e,t){return fetch("".concat(d,"/books/").concat(e.id),{method:"PUT",headers:Object(p.a)({},k,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},g=function(e){return fetch("".concat(d,"/search"),{method:"POST",headers:Object(p.a)({},k,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},E=a(132),v=a(68),y=a(133),j=a(22),O=a(120),w=a(122),x=a(90),B=a(123),N=a(62),C=a.n(N),S=a(63),U=a.n(S),R=a(59),T=a(23),I=Object(R.a)((function(){return{root:{flexGrow:1,marginBottom:"50px"},title:{flexGrow:1,textAlign:"center"}}})),W=function(){var e=I();return o.a.createElement("div",{className:e.root},o.a.createElement(j.a,{exact:!0,path:["/","/my-bookshelf"],render:function(){return o.a.createElement(O.a,{position:"static"},o.a.createElement(w.a,null,o.a.createElement(x.a,{className:e.title,variant:"h6",noWrap:!0},"MY BOOKSHELF"),o.a.createElement(T.b,{to:"/search"},o.a.createElement(B.a,{color:"secondary","aria-label":"add"},o.a.createElement(C.a,null)))))}}),o.a.createElement(j.a,{path:"/search",render:function(){return o.a.createElement(O.a,{position:"static"},o.a.createElement(w.a,null,o.a.createElement(x.a,{className:e.title,variant:"h6",noWrap:!0},"SEARCH RESULTS"),o.a.createElement(T.b,{to:"/my-bookshelf"},o.a.createElement(B.a,{color:"secondary","aria-label":"back"},o.a.createElement(U.a,null)))))}}))},A=a(131),L=a(12),z=a(19),P=a(66),D=a.n(P),G=a(127),H=a(128),J=a(129),M=a(130),q=a(126),F=a(134),K=a(135),Y=a(138),$=a(125),Q=a(137),V=a(124),X=Object(R.a)((function(e){return{formControl:{margin:e.spacing(3)}}})),Z=function(e){var t=e.book,a=e.bookmark,r=e.onBookmarkUpdate,c=e.toggleDrawer,l=X(),i=Object(n.useState)("none"),s=Object(z.a)(i,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){return u(a)}),[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{component:"fieldset",className:l.formControl},o.a.createElement(x.a,{paragraph:!0},"Move to:"),o.a.createElement(V.a,null),o.a.createElement(Y.a,{"aria-label":"gender",name:"gender1",value:m,onChange:function(e){u(e.target.value),r(t,e.target.value),c()}},o.a.createElement($.a,{value:"currentlyReading",control:o.a.createElement(K.a,null),label:"Currently Reading"}),o.a.createElement(V.a,null),o.a.createElement($.a,{value:"wantToRead",control:o.a.createElement(K.a,null),label:"Want to read"}),o.a.createElement(V.a,null),o.a.createElement($.a,{value:"read",control:o.a.createElement(K.a,null),label:"Read"}),o.a.createElement(V.a,null),o.a.createElement($.a,{value:"none",control:o.a.createElement(K.a,null),label:"None"}),o.a.createElement(V.a,null))))},_=a(3),ee=Object(R.a)((function(e){return{card:{maxWidth:345,margin:"auto"},cardContent:{backgroundColor:"rgba(33,33,33,0.9)",minHeight:70},media:{maxHeight:350,paddingTop:"56.25%",position:"relative"},expand:{transform:"rotate(0deg)",zIndex:10,position:"absolute",bottom:10,right:10,backgroundColor:"#80CBC4","&:hover":{backgroundColor:"#598e89"},marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{zIndex:10,position:"absolute",bottom:10,right:10,transform:"rotate(180deg)",backgroundColor:"#80CBC4","&:hover":{backgroundColor:"#598e89"}},list:{width:250},fullList:{width:"auto"},drawer:{width:"100%",flexShrink:0},drawerPaper:{width:"100%",position:"absolute",right:0,top:0,zIndex:5}}})),te=function(e){var t=e.book,a=e.bookmark,r=e.onBookmarkUpdate,c=Object(n.useState)(!1),l=Object(z.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(!1),u=Object(z.a)(m,2),p=u[0],d=u[1],h=ee(),k=t.imageLinks?"".concat(t.imageLinks.smallThumbnail.split("zoom=")[0],"zoom=3"):"",f=function(){d(!p),s(!i)};return o.a.createElement(G.a,{className:h.card},o.a.createElement(H.a,{className:h.media,image:k,title:t.title},o.a.createElement(J.a,{className:h.cardContent},o.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),o.a.createElement(x.a,{variant:"body2",color:"textSecondary",component:"p"},t.authors&&t.authors.map((function(e){return" ".concat(e)})))),o.a.createElement(M.a,{className:h.cardContent,disableSpacing:!0},o.a.createElement(q.a,{className:Object(_.a)(h.expand,Object(L.a)({},h.expandOpen,i)),onClick:f,"aria-expanded":i,"aria-label":"show more"},o.a.createElement(D.a,null))),o.a.createElement(F.a,{className:h.drawer,variant:"persistent",anchor:"right",open:p,classes:{paper:h.drawerPaper}},o.a.createElement(Z,{book:t,bookmark:a,onBookmarkUpdate:r,toggleDrawer:f}))))},ae=Object(R.a)((function(){return{root:{flexGrow:1},spacing:{marginTop:50}}})),ne=function(e){var t=e.books,a=e.bookmarks,n=e.onBookmarkUpdate,r=ae();return o.a.createElement("div",{className:r.root},o.a.createElement(A.a,{container:!0,justify:"space-around",className:r.spacing},o.a.createElement(A.a,{container:!0,item:!0,xs:12,spacing:5},t.map((function(e,t){var r=a.filter((function(t){return t.id===e.id})),c=0!==r.length?r[0].shelf:"none";return o.a.createElement(A.a,{key:t,item:!0,xs:12,sm:6,lg:3},o.a.createElement(te,{book:e,bookmark:c,onBookmarkUpdate:n}))})))))},oe=a(13),re=a(67),ce=a.n(re),le=a(136),ie=Object(R.a)((function(e){return{search:Object(L.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(oe.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(oe.b)(e.palette.common.white,.25)},textAlign:"center",margin:"auto",maxWidth:600,height:55,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{width:e.spacing(8),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"80%",height:"100%"},inputInput:{padding:e.spacing(1,1,1,1),transition:e.transitions.create("width")}}})),se=function(e){var t=e.query,a=e.onSearch,n=ie();return o.a.createElement("div",{className:n.search},o.a.createElement("div",{className:n.searchIcon},o.a.createElement(ce.a,null)),o.a.createElement(le.a,{placeholder:"Search books...",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},value:t,onChange:function(e){return a(e.target.value)}}))},me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={resp:[],value:""},a.onSearch=function(e){a.setState({value:e}),e.length>0?a.showBooks(e):a.setState({resp:[]})},a.showBooks=function(e){g(e).then((function(e){if(void 0===e)return null;e.error?a.setState({resp:[]}):a.setState({resp:e})}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{query:this.state.value,onSearch:this.onSearch}),o.a.createElement(ne,{books:this.state.resp,bookmarks:this.props.bookmarks,onBookmarkUpdate:this.props.onBookmarkUpdate}))}}]),t}(n.Component),ue=Object(R.a)((function(){return{root:{flexGrow:1},spacing:{marginTop:50},typography:{textDecoration:"underline",marginLeft:20}}})),pe=function(e){var t=e.books,a=e.onBookmarkUpdate,n=ue(),r=[],c=[],l=[];return t.filter((function(e){return"currentlyReading"===e.shelf&&r.push(e),"wantToRead"===e.shelf&&c.push(e),"read"===e.shelf&&l.push(e),!0})),o.a.createElement("div",{className:n.root},o.a.createElement(A.a,{container:!0,className:n.spacing},o.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.typography},"Currently Reading")),o.a.createElement(A.a,{container:!0,justify:"space-around",className:n.spacing},o.a.createElement(A.a,{container:!0,item:!0,xs:12,spacing:5},r.map((function(e,t){return o.a.createElement(A.a,{key:t,item:!0,xs:12,sm:6,lg:3},o.a.createElement(te,{bookmark:e.shelf,book:e,onBookmarkUpdate:a}))})))),o.a.createElement(A.a,{container:!0,className:n.spacing},o.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.typography},"Want to read")),o.a.createElement(A.a,{container:!0,justify:"space-around",className:n.spacing},o.a.createElement(A.a,{container:!0,item:!0,xs:12,spacing:5},c.map((function(e,t){return o.a.createElement(A.a,{key:t,item:!0,xs:12,sm:6,lg:3},o.a.createElement(te,{bookmark:e.shelf,book:e,onBookmarkUpdate:a}))})))),o.a.createElement(A.a,{container:!0,className:n.spacing},o.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.typography},"Read")),o.a.createElement(A.a,{container:!0,justify:"space-around",className:n.spacing},o.a.createElement(A.a,{container:!0,item:!0,xs:12,spacing:5},l.map((function(e,t){return o.a.createElement(A.a,{key:t,item:!0,xs:12,sm:6,lg:3},o.a.createElement(te,{bookmark:e.shelf,book:e,onBookmarkUpdate:a}))})))))},de=(a(87),Object(v.a)({palette:{type:"dark",primary:{main:"#212121",contrastText:"#fff"},secondary:{main:"#009688",contrastText:"#fff"}}})),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={data:[]},a.updateBooks=function(){f().then((function(e){return a.setState({data:e})}))},a.onBookmarkUpdate=function(e,t){b(e,t).then((function(){return a.updateBooks(t)})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement(E.a,{theme:de},o.a.createElement(y.a,null),o.a.createElement(W,null),o.a.createElement(j.a,{exact:!0,path:["/","/my-bookshelf"],render:function(){return o.a.createElement(pe,{books:e.state.data,onBookmarkUpdate:e.onBookmarkUpdate})}}),o.a.createElement(j.a,{path:"/search",render:function(){return o.a.createElement(me,{bookmarks:e.state.data,onBookmarkUpdate:e.onBookmarkUpdate})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(T.a,null,o.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.c4e92cfa.chunk.js.map